---
layout: post
title: "Coding skills"
subtitle: ''
author: "Tianming Qiu"
header-style: text
mathjax: true
tags:
  - coding
---

# Git
## 代码滚回
- `git log`: 查看过往的commit
- 在Git中，用`HEAD`表示当前版本，也就是最新的提交1094adb...（注意我的提交ID和你的肯定不一样），上一个版本就是`HEAD^`，上上一个版本就是`HEAD^^`，当然往上100个版本写100个^比较容易数不过来，所以写成`HEAD~100`
- `git reset --hard HEAD^`
- 退回到老版本之后若要再次回到较新修改的版本，需要commit id号
- 要重返未来，用`git reflog`查看命令历史，以便确定要回到未来的哪个版本
- `git checkout -- file`可以丢弃**工作区**的修改

## Branch
Git鼓励大量使用分支：
- 查看分支：`git branch`

- 创建分支：`git branch <name>`

- 切换分支：`git checkout <name>`

- 创建+切换分支：`git checkout -b <name>`

- 合并某分支到当前分支：`git merge <name>`

- 删除分支：`git branch -d <name>`

- 在本地创建和远程分支对应的分支，使用`git checkout -b branch-name origin/branch-name`，本地和远程分支的名称最好一致；

- 建立本地分支和远程分支的关联，使用`git branch --set-upstream branch-name origin/branch-name`；

## 清空过往commit
- [Intro](https://www.jianshu.com/p/739e3cb1a0af)

# Python
- [类变量和实例变量](https://blog.csdn.net/Marvel__Dead/article/details/79368272)：类变量是可以公共地被修改的

# Linux skills
## Python2和Python3切换
source activate py36
source deactivate

## c++ 编译
g++ data_process.cpp -o hello.o

## 关机
shutdown -now

## 查询使用空间
df -hl

## check the system monitor:
sudo apt-get install htop
htop

## ctrl+U: delete whole line quickly

## ssh -R127.0.0.1:2222:127.0.0.1:22 ga84wac@linux12.clients.eikon.tum.de


confirmed that in GCP, Michael's instruction fixed the issue.
Here is the commands I used:

sudo apt-get purge nvidia*
sudo add-apt-repository ppa:graphics-drivers
sudo apt-get update
sudo apt-get install nvidia-390

sudo reboot

…after reboot:
lsmod | grep nvidia 


https://devtalk.nvidia.com/default/topic/1000340/cuda-setup-and-installation/-quot-nvidia-smi-has-failed-because-it-couldn-t-communicate-with-the-nvidia-driver-quot-ubuntu-16-04/3


https://blog.csdn.net/u012759136/article/details/53355781


## GCP 上传和下载文件非常有意思的tip：
1. 下载： 请在本地的terminal中运行（而非gcp）：
```
gcloud compute scp tianmingq@i2dl-exercises:~/Master_Thesis/Grid_POMDP/training_result/hsvi* /home/ming/Documents --zone europe-west1-b

$scp local_file remote_username@remote_ip:remote_folder
$scp local_file remote_username@remote_ip:remote_file

$scp -r local_folder remote_username@remote_ip:remote_folder
$scp -r local_folder remote_ip:remote_folder
```


## ubuntu 查找文件：
find /home/ming/PycharmProjects/Master_Thesis/Grid_POMDP/training_result/ -name hs*

## 将前台程序放到后台，并且让屏幕输出打印至指定文件
- `command  >out.file 2>&1 &`
- `2>&1` means: Redirect the stderr to the same place we are redirecting the stdout. An explaination can check [here](https://www.brianstorti.com/understanding-shell-script-idiom-redirect/)

## FInd the location of a desired installed software
- `which matlab` & `whereis matlab`
